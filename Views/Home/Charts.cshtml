@{
    ViewData["Title"] = "Charts Page";
}
<h2>@ViewData["Title"].</h2>
<h3>@ViewData["Message"]</h3>

<script type="text/javascript">
function getAeroInfo(icao) {
    $.ajax({
        url: "/Info/" + icao,
        type: "GET",
        success: function (data) {
            $("#div p").remove(); 
            var div = document.getElementById('div');
            //$.each(data.met[0], function (i, obj) {
                var p = document.createElement('p');
                p.innerHTML = data.info[0].aeroCode + ' - ' + data.info[0].name;
                div.appendChild(p);
            //});
        }
    });
}

function getCharts(icao) {
    $.ajax({
            url: "/Charts/" + icao,
            type: "GET",
            success: function (data) {
                $("#tb tr").remove(); 
                var table = document.getElementById('tb');
                var tr = document.createElement('tr');
                tr = document.createElement('tr');
                tr.innerHTML = '<td>Tipo</td><td>Carta</td>';
                table.appendChild(tr);
                $.each(data.cartas[0].item, function (i, obj) {
                    tr = document.createElement('tr');
                    var td = document.createElement('td');
                    td.innerHTML = obj.tipo;
                    tr.appendChild(td);

                    td = document.createElement('td');
                    td.innerHTML = '<a target="_blank" href='+ obj.link +'>' + obj.nome + '</a>';

                    tr.appendChild(td);
                    table.appendChild(tr);
                });
            }
        });
}

$(document).ready(function() {
    //$('#btnPesquisar').click(function() {
        var icao = "@ViewData["icao"]";
        getAeroInfo(icao);
        getCharts(icao);
    //});
});
</script>
<script type="text/javascript">
    (function(document,navigator,standalone) {
        // prevents links from apps from oppening in mobile safari
        // this javascript must be the first script in your <head>
        if ((standalone in navigator) && navigator[standalone]) {
            var curnode, location=document.location, stop=/^(a|html)$/i;
            document.addEventListener('click', function(e) {
                curnode=e.target;
                while (!(stop).test(curnode.nodeName)) {
                    curnode=curnode.parentNode;
                }
                // Condidions to do this only on links to your own app
                // if you want all links, use if('href' in curnode) instead.
                if('href' in curnode && ( curnode.href.indexOf('http') || ~curnode.href.indexOf(location.host) ) ) {
                    e.preventDefault();
                    location.href = curnode.href;
                }
            },false);
        }
    })(document,window.navigator,'standalone');
</script>

<div ng-app="">
    <div id="div"></div>    
    <div class="table-responsive">
        <table class="table" id="tb"></table>
    </div>
    <br>
    <a href="/Home">Voltar</a>
</div>